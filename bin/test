#!/usr/bin/env php
<?php

use Spip\Component\Compilo\CompilationContext;
use Spip\Component\Compilo\Compilo;
use Spip\Component\Compilo\NullTag;

require_once __DIR__ . '/../vendor/autoload.php';

$p = (new CompilationContext)
    ->withSquelette('#NULL')    // file_get_contents('./squelettes-dist/sommaire.html')
    ->withSpip([])              // require_once __DIR__ . './config/compilo.php';
    ->withRequest([])           // Request::createFromGlobals();
;

$b = new NullTag;
echo 'NullTag:"' . $b . '"'.PHP_EOL;
echo 'Test NullTag:';
echo $b == '' ? 'OK' : 'KO';
echo PHP_EOL;
echo 'call balise_NULL_dist:"' . balise_NULL_dist($p) . '"' . PHP_EOL;

// $squelette = '#NULL';
$c = new Compilo($p);
$page = $c();
echo 'Attibuts: ' . var_export($c->getAttributes(), true) . PHP_EOL;
echo 'Contenu HTML:"' . $page . '"' . PHP_EOL;

exit(0);
